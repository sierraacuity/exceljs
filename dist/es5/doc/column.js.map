{"version":3,"file":"column.js","names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","Number","_","require","Enums","colCache","DEFAULT_COLUMN_WIDTH","Column","worksheet","number","defn","_worksheet","_number","get","n2l","width","header","_header","style","hidden","outlineLevel","set","value","_hidden","_key","Array","_this","headers","forEach","text","index","getCell","column","getColumnKey","deleteColumnKey","setColumnKey","_outlineLevel","properties","outlineLevelCol","toString","JSON","stringify","equivalentTo","other","isEqual","isCustomWidth","s","font","numFmt","alignment","border","fill","protection","eachCell","options","iteratee","colNumber","eachRow","row","rowNumber","v","cell","type","ValueType","Null","_this2","offset","hasOwnProperty","_applyStyle","name","toModel","columns","cols","col","isDefault","min","max","collapsed","push","fromModel","count","sort","pre","next","module","exports"],"sources":["../../../lib/doc/column.js"],"sourcesContent":["'use strict';\r\n\r\nconst _ = require('../utils/under-dash');\r\n\r\nconst Enums = require('./enums');\r\nconst colCache = require('../utils/col-cache');\r\n\r\nconst DEFAULT_COLUMN_WIDTH = 9;\r\n\r\n// Column defines the column properties for 1 column.\r\n// This includes header rows, widths, key, (style), etc.\r\n// Worksheet will condense the columns as appropriate during serialization\r\nclass Column {\r\n  constructor(worksheet, number, defn) {\r\n    this._worksheet = worksheet;\r\n    this._number = number;\r\n    if (defn !== false) {\r\n      // sometimes defn will follow\r\n      this.defn = defn;\r\n    }\r\n  }\r\n\r\n  get number() {\r\n    return this._number;\r\n  }\r\n\r\n  get worksheet() {\r\n    return this._worksheet;\r\n  }\r\n\r\n  get letter() {\r\n    return colCache.n2l(this._number);\r\n  }\r\n\r\n  get isCustomWidth() {\r\n    return this.width !== undefined && this.width !== DEFAULT_COLUMN_WIDTH;\r\n  }\r\n\r\n  get defn() {\r\n    return {\r\n      header: this._header,\r\n      key: this.key,\r\n      width: this.width,\r\n      style: this.style,\r\n      hidden: this.hidden,\r\n      outlineLevel: this.outlineLevel,\r\n    };\r\n  }\r\n\r\n  set defn(value) {\r\n    if (value) {\r\n      this.key = value.key;\r\n      this.width = value.width !== undefined ? value.width : DEFAULT_COLUMN_WIDTH;\r\n      this.outlineLevel = value.outlineLevel;\r\n      if (value.style) {\r\n        this.style = value.style;\r\n      } else {\r\n        this.style = {};\r\n      }\r\n\r\n      // headers must be set after style\r\n      this.header = value.header;\r\n      this._hidden = !!value.hidden;\r\n    } else {\r\n      delete this._header;\r\n      delete this._key;\r\n      delete this.width;\r\n      this.style = {};\r\n      this.outlineLevel = 0;\r\n    }\r\n  }\r\n\r\n  get headers() {\r\n    return this._header && this._header instanceof Array ? this._header : [this._header];\r\n  }\r\n\r\n  get header() {\r\n    return this._header;\r\n  }\r\n\r\n  set header(value) {\r\n    if (value !== undefined) {\r\n      this._header = value;\r\n      this.headers.forEach((text, index) => {\r\n        this._worksheet.getCell(index + 1, this.number).value = text;\r\n      });\r\n    } else {\r\n      this._header = undefined;\r\n    }\r\n  }\r\n\r\n  get key() {\r\n    return this._key;\r\n  }\r\n\r\n  set key(value) {\r\n    const column = this._key && this._worksheet.getColumnKey(this._key);\r\n    if (column === this) {\r\n      this._worksheet.deleteColumnKey(this._key);\r\n    }\r\n\r\n    this._key = value;\r\n    if (value) {\r\n      this._worksheet.setColumnKey(this._key, this);\r\n    }\r\n  }\r\n\r\n  get hidden() {\r\n    return !!this._hidden;\r\n  }\r\n\r\n  set hidden(value) {\r\n    this._hidden = value;\r\n  }\r\n\r\n  get outlineLevel() {\r\n    return this._outlineLevel || 0;\r\n  }\r\n\r\n  set outlineLevel(value) {\r\n    this._outlineLevel = value;\r\n  }\r\n\r\n  get collapsed() {\r\n    return !!(\r\n      this._outlineLevel && this._outlineLevel >= this._worksheet.properties.outlineLevelCol\r\n    );\r\n  }\r\n\r\n  toString() {\r\n    return JSON.stringify({\r\n      key: this.key,\r\n      width: this.width,\r\n      headers: this.headers.length ? this.headers : undefined,\r\n    });\r\n  }\r\n\r\n  equivalentTo(other) {\r\n    return (\r\n      this.width === other.width &&\r\n      this.hidden === other.hidden &&\r\n      this.outlineLevel === other.outlineLevel &&\r\n      _.isEqual(this.style, other.style)\r\n    );\r\n  }\r\n\r\n  get isDefault() {\r\n    if (this.isCustomWidth) {\r\n      return false;\r\n    }\r\n    if (this.hidden) {\r\n      return false;\r\n    }\r\n    if (this.outlineLevel) {\r\n      return false;\r\n    }\r\n    const s = this.style;\r\n    if (s && (s.font || s.numFmt || s.alignment || s.border || s.fill || s.protection)) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  get headerCount() {\r\n    return this.headers.length;\r\n  }\r\n\r\n  eachCell(options, iteratee) {\r\n    const colNumber = this.number;\r\n    if (!iteratee) {\r\n      iteratee = options;\r\n      options = null;\r\n    }\r\n    this._worksheet.eachRow(options, (row, rowNumber) => {\r\n      iteratee(row.getCell(colNumber), rowNumber);\r\n    });\r\n  }\r\n\r\n  get values() {\r\n    const v = [];\r\n    this.eachCell((cell, rowNumber) => {\r\n      if (cell && cell.type !== Enums.ValueType.Null) {\r\n        v[rowNumber] = cell.value;\r\n      }\r\n    });\r\n    return v;\r\n  }\r\n\r\n  set values(v) {\r\n    if (!v) {\r\n      return;\r\n    }\r\n    const colNumber = this.number;\r\n    let offset = 0;\r\n    if (v.hasOwnProperty('0')) {\r\n      // assume contiguous array, start at row 1\r\n      offset = 1;\r\n    }\r\n    v.forEach((value, index) => {\r\n      this._worksheet.getCell(index + offset, colNumber).value = value;\r\n    });\r\n  }\r\n\r\n  // =========================================================================\r\n  // styles\r\n  _applyStyle(name, value) {\r\n    this.style[name] = value;\r\n    this.eachCell(cell => {\r\n      cell[name] = value;\r\n    });\r\n    return value;\r\n  }\r\n\r\n  get numFmt() {\r\n    return this.style.numFmt;\r\n  }\r\n\r\n  set numFmt(value) {\r\n    this._applyStyle('numFmt', value);\r\n  }\r\n\r\n  get font() {\r\n    return this.style.font;\r\n  }\r\n\r\n  set font(value) {\r\n    this._applyStyle('font', value);\r\n  }\r\n\r\n  get alignment() {\r\n    return this.style.alignment;\r\n  }\r\n\r\n  set alignment(value) {\r\n    this._applyStyle('alignment', value);\r\n  }\r\n\r\n  get protection() {\r\n    return this.style.protection;\r\n  }\r\n\r\n  set protection(value) {\r\n    this._applyStyle('protection', value);\r\n  }\r\n\r\n  get border() {\r\n    return this.style.border;\r\n  }\r\n\r\n  set border(value) {\r\n    this._applyStyle('border', value);\r\n  }\r\n\r\n  get fill() {\r\n    return this.style.fill;\r\n  }\r\n\r\n  set fill(value) {\r\n    this._applyStyle('fill', value);\r\n  }\r\n\r\n  // =============================================================================\r\n  // static functions\r\n\r\n  static toModel(columns) {\r\n    // Convert array of Column into compressed list cols\r\n    const cols = [];\r\n    let col = null;\r\n    if (columns) {\r\n      columns.forEach((column, index) => {\r\n        if (column.isDefault) {\r\n          if (col) {\r\n            col = null;\r\n          }\r\n        } else if (!col || !column.equivalentTo(col)) {\r\n          col = {\r\n            min: index + 1,\r\n            max: index + 1,\r\n            width: column.width !== undefined ? column.width : DEFAULT_COLUMN_WIDTH,\r\n            style: column.style,\r\n            isCustomWidth: column.isCustomWidth,\r\n            hidden: column.hidden,\r\n            outlineLevel: column.outlineLevel,\r\n            collapsed: column.collapsed,\r\n          };\r\n          cols.push(col);\r\n        } else {\r\n          col.max = index + 1;\r\n        }\r\n      });\r\n    }\r\n    return cols.length ? cols : undefined;\r\n  }\r\n\r\n  static fromModel(worksheet, cols) {\r\n    cols = cols || [];\r\n    const columns = [];\r\n    let count = 1;\r\n    let index = 0;\r\n    /**\r\n     * sort cols by min\r\n     * If it is not sorted, the subsequent column configuration will be overwritten\r\n     * */\r\n    cols = cols.sort(function(pre, next)  {\r\n      return pre.min - next.min;\r\n    });\r\n    while (index < cols.length) {\r\n      const col = cols[index++];\r\n      while (count < col.min) {\r\n        columns.push(new Column(worksheet, count++));\r\n      }\r\n      while (count <= col.max) {\r\n        columns.push(new Column(worksheet, count++, col));\r\n      }\r\n    }\r\n    return columns.length ? columns : null;\r\n  }\r\n}\r\n\r\nmodule.exports = Column;\r\n"],"mappings":"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"}